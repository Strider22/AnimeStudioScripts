-- **************************************************-- Provide Moho with the name of this script object-- **************************************************ScriptName = "LM_OpenFile"-- **************************************************-- General information about this script-- **************************************************LM_OpenFile = {}function LM_OpenFile:Name()	return "Open File"endfunction LM_OpenFile:Version()	return "6.0"endfunction LM_OpenFile:Description()	return MOHO.Localize("/Scripts/Menu/OpenFile/Description=Data file test script")endfunction LM_OpenFile:Creator()	return "Smith Micro Software, Inc."endfunction LM_OpenFile:UILabel()	return(MOHO.Localize("/Scripts/Menu/OpenFile/OpenFile=Load Data File..."))end-- **************************************************-- The guts of this script-- **************************************************function LM_OpenFile:IsEnabled(moho)	if (moho.layer:LayerType() ~= MOHO.LT_VECTOR) then		return false	end	if (moho.layer:CurrentAction() ~= "") then		return false -- creating new objects in the middle of an action can lead to unexpected results	end	return trueendfunction LM_OpenFile:Run(moho)	local mesh = moho:Mesh()	if (mesh == nil) then		return	end	LM.GUI.Alert(LM.GUI.ALERT_INFO, MOHO.Localize("/Scripts/Menu/OpenFile/Alert_1_1=This script demonstrates how to read data from an external file."),		MOHO.Localize("/Scripts/Menu/OpenFile/Alert_1_2=When prompted for a file, look in the Anime Studio program folder under:"),		MOHO.Localize("/Scripts/Menu/OpenFile/Alert_1_3=scripts/menu/Script Writing/sample_data_file.txt"),		MOHO.Localize("/Scripts/OK=OK"), nil, nil)	LM.GUI.Alert(LM.GUI.ALERT_INFO, MOHO.Localize("/Scripts/Menu/OpenFile/Alert_2_1=This script isn't meant to be useful on its own."),		MOHO.Localize("/Scripts/Menu/OpenFile/Alert_2_2=It is an example of how you might start out if you"),		MOHO.Localize("/Scripts/Menu/OpenFile/Alert_2_3=want to import some custom data from a file."),		MOHO.Localize("/Scripts/OK=OK"), nil, nil)	local path = LM.GUI.OpenFile(MOHO.Localize("/Scripts/Menu/OpenFile/SelectDataFile=Select Data File"))	if (path == "") then		return	end	local f = io.open(path, "r")	if (f == nil) then		return	end	moho.document:PrepUndo(moho.layer)	moho.document:SetDirty()	mesh:SelectNone()	local v = LM.Vector2:new_local()	local cmd = f:read()--	print(cmd)	while (cmd ~= nil) do--		print(cmd)--		print(string.sub(cmd, 1, 6))		if (string.sub(cmd, 1, 6) == "moveto") then			v.x = f:read("*n")			v.y = f:read("*n")			mesh:AddLonePoint(v, moho.layerFrame)		elseif (string.sub(cmd, 1, 7) == "curveto") then			v.x = f:read("*n")			v.y = f:read("*n")			mesh:AppendPoint(v, moho.layerFrame)		end		cmd = f:read()	end	f:close()	mesh:SelectConnected()end